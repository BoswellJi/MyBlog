import{_ as i,c as a,b as l,o as n}from"./app-B56A7WC8.js";const o={};function u(c,e){return n(),a("div",null,e[0]||(e[0]=[l('<h2 id="uniapp-是如何让-vue-在小程序运行时运行的" tabindex="-1"><a class="header-anchor" href="#uniapp-是如何让-vue-在小程序运行时运行的"><span>uniapp 是如何让 vue 在小程序运行时运行的</span></a></h2><h2 id="依赖模块" tabindex="-1"><a class="header-anchor" href="#依赖模块"><span>依赖模块</span></a></h2><ul><li><p>./node_modules/@dcloudio/uni-mp-weixin/dist/index.js：uni core</p><ul><li>暴露的api: <ul><li>createApp</li><li>createPage</li><li>createComponent</li><li>createPlugin</li><li>createSubpackageApp</li><li>uni: baseApi,todoApis,extraApi,eventApi,api,wx</li></ul></li></ul></li><li><p>./node_modules/@dcloudio/vue-cli-plugin-uni/packages/mp-vue/dist/mp.runtime.esm.js：vue core 修改后的</p><ul><li>暴露的api: <ul><li>Vue</li></ul></li></ul></li><li><p>./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js： component core</p></li><li><p>./node_modules/@babel/runtime/regenerator/index.js: ployfill</p></li><li><p>./node_modules/regenerator-runtime/runtime.js: ployfill</p></li><li><p>(webpack)/buildin/global.js:</p></li></ul><h2 id="文件" tabindex="-1"><a class="header-anchor" href="#文件"><span>文件</span></a></h2><ul><li>runtime.js: webpack 的模块加载器</li><li>vendor.js: 运行时的依赖库(mpvue)</li><li>main.js: app.js</li></ul><h2 id="小程序初始化" tabindex="-1"><a class="header-anchor" href="#小程序初始化"><span>小程序初始化</span></a></h2><ul><li><p>从main.js模块开始执行，这里会执行</p><ul><li>new Vue()</li><li>createApp()根组件没有视图，所以不需要amount方法</li></ul></li><li><p>接着是页面的初始化</p><ul><li>createPage()</li><li>Vue.extend()</li><li>attached中实例化组件：将组件中的data初始化为响应式对象</li><li>amount实例化观察者Watcher来观察数据变更</li></ul></li><li><p>没有安装组件的步骤<code>mountComponent</code>:</p><ul><li>因为模板是直接编译为 wxml 文件;</li></ul></li><li><p>创建组件实例：</p><ul><li>从 new Vue()开始，这个是根实例；App.wxml<code>createApp</code>,在main.js中，_init方法初始化的是当前组件的各种功能；</li><li>从 Vue.extend()开始，这个是组件；Page.wxml<code>createPage</code></li><li>从 Vue.extend()开始，这个是组件；Component.wxml<code>createComponent</code></li></ul></li><li><p>依赖注入（provide/inject）:</p><ul><li>Vue.component()创建组件时，<code>this.init()</code>调用初始化方法中处理；</li><li>每个组件有$parent,从当前组件开始，一层一层向上找;</li></ul></li></ul><h2 id="修改响应式数据" tabindex="-1"><a class="header-anchor" href="#修改响应式数据"><span>修改响应式数据</span></a></h2><ul><li>this.props = &#39;value&#39;; <ul><li>watcher.run(); <ul><li>vm._update(vm_render(),hydrating);</li></ul></li></ul></li></ul>',9)]))}const t=i(o,[["render",u]]),s=JSON.parse('{"path":"/uniapp/uniapp%E8%BF%90%E8%A1%8C%E6%97%B6.html","title":"","lang":"en-US","frontmatter":{},"git":{"updatedTime":1718759308000,"contributors":[{"name":"Boswell","username":"Boswell","email":"mingzhuang.ji@ly.com","commits":8,"url":"https://github.com/Boswell"},{"name":"mingzhuang.ji","username":"","email":"mingzhuang.ji@ly.com","commits":2}],"changelog":[{"hash":"70b4f691e1c73f139c2f924714d83421203012ba","time":1718759308000,"email":"mingzhuang.ji@ly.com","author":"mingzhuang.ji","message":"chore(blog): 重命名"},{"hash":"6cd6513af962d39a4becb6d4423104c209684122","time":1702001688000,"email":"mingzhuang.ji@ly.com","author":"mingzhuang.ji","message":"feat: monorepo"},{"hash":"f2337734b6270ac051b908354dd6dccce75439f6","time":1660138466000,"email":"aiyoudqrjmz@163.com","author":"Boswell","message":"chore: 梳理"},{"hash":"40490e61600ecc7dded37e1f242086aa74489f64","time":1653880183000,"email":"aiyoudqrjmz@163.com","author":"Boswell","message":"feat: lerna"},{"hash":"4fb8516a78ed45a774450e14c1882c86cd70afe4","time":1651136311000,"email":"aiyoudqrjmz@163.com","author":"Boswell","message":"feat: cypress"},{"hash":"dbcc429a40a280d1b3b7bcc7e015f08813eaf620","time":1624534529000,"email":"mingzhuang.ji@ly.com","author":"Boswell","message":"diff:"},{"hash":"fc93517fa848503cf7e1c938c77671f135fc2501","time":1624360476000,"email":"mingzhuang.ji@ly.com","author":"Boswell","message":"vue: uniapp"},{"hash":"916568058841805711f633fdc0472161daeb404d","time":1621328841000,"email":"mingzhuang.ji@ly.com","author":"Boswell","message":"css: layout"},{"hash":"a0c6384dc41ac5afeee0efbb0bfd3c4ec288c644","time":1620992694000,"email":"mingzhuang.ji@ly.com","author":"Boswell","message":"vue:"},{"hash":"82617e71890a6e852164130813f74d9ac736c98f","time":1619519526000,"email":"mingzhuang.ji@ly.com","author":"Boswell","message":"mpvue: init"}]},"filePathRelative":"uniapp/uniapp运行时.md"}');export{t as comp,s as data};
